<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nils Kuhn</title>
    <meta name="description" content="Project - Continuous-Time Diffusion Policies for Visuomotor Control" />
    <link rel="stylesheet" href="../styles/main.css" /> 
  </head>

  <body>
    <header id="top" class="hero">
      <div class="container hero__inner">
        <img class="hero__photo" src="../images/nils.jpg" alt="Portrait of Nils Kuhn" />

        <div class="hero__content">
          <h1 class="hero__title">Learning ROS 2: Swarm Controller</h1>

          <p>
          To learn ROS 2 in a practical way, I built a small “drone show” in Gazebo: a variable number of drones can be
          spawned and commanded into either a <strong>circle</strong> or a <strong>line</strong> formation. The user can
          scale the formation size and receives feedback on how many drones have reached their target positions.
          </p>

          <div class="home__row">
            <a class="home__top" href="../index.html">Back to Home</a>
          </div>
        </div>
      </div>
    </header>

    <main class="content">
      <article class="container prose">
        <h2>TL;DR</h2>
        <ul>
          <li>Simulated <strong>N</strong> drones in Gazebo and coordinated formations via ROS 2 publish/subscribe.</li>
          <li>
            A <strong>Python interface node</strong> sends formation type + scale (and drone count) to a
            <strong>C++ controller node</strong>.
          </li>
          <li>
            The controller computes per-drone target positions, publishes them, and evaluates how many drones are
            in place.
          </li>
          <li>
            Each <strong>C++ drone node</strong> updates its position in Gazebo and publishes its current state back to
            the controller for closed-loop feedback.
          </li>
        </ul>

        <h2>Demo</h2>
        <figure class="media">
          <img src="../images/projects/drone_action.gif" alt="Drone action" />
          <figcaption>Gazebo drone show: circle/line formations with adjustable scale.</figcaption>
        </figure>

        <h2>System Architecture</h2>
        <p>
          The system is structured as a small ROS 2 network with a UI/interface node, a central controller, and one node
          per drone.
        </p>

        <figure class="media">
          <!-- Replace with your own architecture diagram (recommended) -->
          <img src="../images/projects/node_graph.png" alt="Diagram showing interface node, controller node, and multiple drone nodes connected by ROS 2 topics." />
          <figcaption>High-level ROS 2 node architecture and topic flow.</figcaption>
        </figure>

        <h3>Message Flow (Publish / Subscribe)</h3>
        <ol>
          <li><strong>Interface → Controller:</strong> formation type + scale</li>
          <li><strong>Controller → Drones:</strong> per-drone target position setpoints</li>
          <li><strong>Drones → Controller:</strong> current positions</li>
          <li><strong>Controller → Interface:</strong> % of drones in correct place (action feedback)</li>
          <li><strong>Interface:</strong> reports goal completion when 100% reached</li>
        </ol>

        <h2>Results & Learnings</h2>
        <ul>
          <li>Reliable formation control for different swarm sizes (N is configurable).</li>
          <li>Clear separation of concerns: Python for UI/commands, C++ for controller + drone runtime logic.</li>
          <li>
            Practiced core ROS 2 patterns in a realistic loop: topic design, pub/sub orchestration, and multi-node
            debugging.
          </li>
          <li>The end result is visually satisfying — the circle/line formations look great in simulation.</li>
        </ul>

        <h2>Next steps</h2>
        <p>
          Using ROS 2 in real project. I would love to see some robots in action!
        </p>

      </article>
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer__row">
          <a class="footer__top" href="#top">Back to the top</a>
        </div>

        <div class="footer__icons" aria-label="Footer links">
          <a class="icon-link" href="https://github.com/DerKuhno" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
            <!-- GitHub icon -->
            <svg class="icon" viewBox="0 0 24 24" role="img" aria-hidden="true">
              <path d="M12 .5C5.73.5.75 5.64.75 12c0 5.1 3.29 9.43 7.86 10.96.57.11.78-.25.78-.55
              0-.27-.01-1.16-.02-2.1-3.2.71-3.88-1.39-3.88-1.39-.52-1.35-1.28-1.71-1.28-1.71-1.05-.73.08-.71.08-.71
              1.16.08 1.77 1.22 1.77 1.22 1.03 1.81 2.7 1.29 3.36.99.1-.77.4-1.29.73-1.59-2.55-.3-5.23-1.28-5.23-5.7
              0-1.29.45-2.35 1.19-3.18-.12-.3-.52-1.52.11-3.17 0 0 .97-.32 3.18 1.21.92-.26 1.9-.39 2.88-.4
              .98.01 1.96.14 2.88.4 2.2-1.53 3.17-1.21 3.17-1.21.63 1.65.23 2.87.11 3.17.74.83 1.19 1.89 1.19 3.18
              0 4.54-2.69 5.53-5.25 5.83.41.37.78 1.1.78 2.22 0 1.6-.02 2.88-.02 3.27 0 .31.2.67.79.55
              4.57-1.53 7.85-5.86 7.85-10.96C23.25 5.64 18.27.5 12 .5Z"/>
            </svg>
          </a>

          <a class="icon-link" href="https://www.linkedin.com/in/nils-kuhn/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
            <!-- LinkedIn icon -->
            <svg class="icon" viewBox="0 0 24 24" role="img" aria-hidden="true">
              <path d="M22.23 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.46C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.23 0zM7.06 20.45H3.56V9h3.5v11.45zM5.31 7.43a2.03 2.03 0 1 1 0-4.06 2.03 2.03 0 0 1 0 4.06zM20.45 20.45h-3.5v-5.57c0-1.33-.03-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67h-3.5V9h3.36v1.56h.05c.47-.88 1.62-1.8 3.33-1.8 3.56 0 4.2 2.34 4.2 5.39v6.3z"/>
            </svg>
          </a>

          <a class="icon-link" href="mailto:nfkuhn@stanford.edu" aria-label="Email">
            <!-- Email icon -->
            <svg class="icon" viewBox="0 0 24 24" role="img" aria-hidden="true">
              <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2Zm0 4-8 5-8-5V6l8 5 8-5v2Z"/>
            </svg>
          </a>
        </div>

        <p class="footer__meta">&copy; Nils Kuhn &middot; 2026 &middot; nilskuhn.com</p>
      </div>
    </footer>
  </body>
</html>
